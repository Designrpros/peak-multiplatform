/* src/components/NoteEditor/style.css */

:root {
    --note-font-serif: "New York", -apple-system-ui-serif, ui-serif, Georgia, serif;
    --note-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    --note-font-mono: "SF Mono", SFMono-Regular, ui-monospace, Menlo, monospace;
}

.note-editor-container {
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100%;
    background-color: var(--text-background-color);
    position: relative;
    overflow: hidden;
}

/* --- NEW TAG LAYOUT --- */
.active-tag-list {
    display: flex;
    flex-wrap: wrap;
    padding: 16px 40px 4px 40px;
    gap: 6px;
}

.tag-pill {
    display: inline-flex; align-items: center; font-size: 12px; background-color: rgba(128, 128, 128, 0.1);
    color: var(--peak-primary); padding: 4px 10px; border-radius: 12px; gap: 6px; user-select: none;
}
.tag-remove { width: 12px; height: 12px; cursor: pointer; opacity: 0.5; }
.tag-remove:hover { opacity: 1; }

.tag-input-row {
    padding: 8px 40px;
}
.tag-input {
    width: 100%;
    padding: 8px;
    /* TRANSPARENT STYLE */
    background: transparent;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    outline: none;
    font-size: 13px;
    color: var(--peak-primary);
}

/* --- Main Scroller --- */
.note-editor-scroller { flex-grow: 1; overflow-y: auto; padding: 16px 0; }
.note-editor-content {
    max-width: 800px; margin: 0 auto; padding: 0 40px; display: flex; flex-direction: column; gap: 0;
}
.empty-state { height: 100%; display: flex; align-items: center; justify-content: center; }
.empty-text { font-size: 28px; color: var(--peak-secondary); font-weight: 400; }

/* --- Blocks --- */
.note-block { margin-bottom: 32px; position: relative; border: 1px solid transparent; border-radius: 4px; padding: 4px; transition: background 0.1s; }
.note-block:hover { background-color: rgba(128, 128, 128, 0.05); }
.note-block.editing { background-color: var(--control-background-color); border-color: var(--peak-accent); box-shadow: 0 0 0 2px rgba(0, 122, 255, 0.2); }

.heading-block { font-family: var(--note-font-serif); font-size: 28px; font-weight: 700; color: var(--peak-primary); line-height: 1.2; }
.paragraph-block { font-family: var(--note-font-serif); font-size: 16px; line-height: 1.6; color: var(--peak-primary); }
.separator-block hr { border: 0; height: 1px; background-color: var(--border-color); margin: 10px 0; }

.todo-block { display: flex; align-items: flex-start; gap: 12px; font-family: var(--note-font-serif); font-size: 16px; }
.todo-toggle { background: none; border: none; padding: 0; margin-top: 3px; cursor: pointer; color: var(--peak-secondary); transition: color 0.2s; }
.todo-toggle svg { width: 18px; height: 18px; }
.todo-toggle.checked { color: var(--peak-accent); }
.todo-text { line-height: 1.6; color: var(--peak-primary); transition: opacity 0.2s; }
.todo-text.completed { text-decoration: line-through; opacity: 0.6; }

.code-block { background-color: var(--control-background-color); border-radius: 8px; border: 1px solid var(--border-color); overflow: hidden; font-family: var(--note-font-mono); font-size: 13px; }
.code-header { display: flex; justify-content: space-between; align-items: center; padding: 6px 12px; background: rgba(0,0,0,0.03); border-bottom: 1px solid var(--border-color); }
.lang-badge { font-family: var(--note-font-mono); font-size: 11px; color: var(--peak-secondary); text-transform: uppercase; }
.copy-btn { background: none; border: none; cursor: pointer; padding: 4px; color: var(--peak-secondary); border-radius: 4px; }
.copy-btn:hover { background: rgba(0,0,0,0.05); }
.copy-btn svg { width: 14px; height: 14px; }
.code-block pre { margin: 0; padding: 12px; overflow-x: auto; font-family: var(--note-font-mono); font-size: 14px; color: var(--peak-primary); tab-size: 4; }

.image-block img { max-width: 100%; border-radius: 8px; }
.image-caption { font-size: 12px; color: var(--peak-secondary); margin-top: 4px; text-align: center; }

.edit-textarea {
    width: 100%; background: transparent; border: none; outline: none; resize: none; color: var(--peak-primary);
    padding: 0; margin: 0; display: block; overflow: hidden; font-family: inherit; font-size: inherit; font-weight: inherit; line-height: inherit;
}

.note-block[draggable="true"] { cursor: grab; }
.note-block.dragging { opacity: 0.4; background: var(--control-background-color); border: 1px dashed var(--border-color); }
.note-block.drag-over-top { border-top: 2px solid var(--peak-accent) !important; }
.note-block.drag-over-bottom { border-bottom: 2px solid var(--peak-accent) !important; }

/* --- TRANSPARENT INPUT BAR --- */
.note-input-wrapper {
    position: absolute; bottom: 24px; left: 0; right: 0; display: flex; justify-content: center;
    padding: 0 20px; pointer-events: none; z-index: 100;
}

.note-input-glass-panel {
    pointer-events: auto; width: 100%; max-width: 800px;
    /* TRANSPARENT/MATCHING BACKGROUND */
    background: var(--window-background-color);
    /* SIMPLE BORDER */
    border: 1px solid var(--border-color);
    
    box-shadow: 0 4px 20px rgba(0,0,0,0.05); /* Subtle lift */
    border-radius: 16px;
    display: flex; flex-direction: column; padding: 12px 16px; gap: 8px; box-sizing: border-box;
}

.input-row-top { width: 100%; display: flex; }

.note-input-textarea {
    width: 100%; flex-grow: 1; min-height: 24px; max-height: 120px;
    background: transparent; /* Transparent input */
    border: none; outline: none; resize: none; font-family: var(--note-font-sans); font-size: 14px;
    line-height: 1.5; color: var(--peak-primary); padding: 0; margin: 0; box-sizing: border-box;
}

.input-row-bottom { display: flex; align-items: center; height: 24px; }
.toolbar-left, .toolbar-right { display: flex; align-items: center; gap: 12px; }
.toolbar-spacer { flex-grow: 1; }

.icon-btn { background: none; border: none; padding: 0; cursor: pointer; color: var(--peak-secondary); display: flex; align-items: center; justify-content: center; }
.icon-btn:hover { color: var(--peak-primary); }
.icon-btn svg { width: 18px; height: 18px; }

.type-selector-container { position: relative; }
.type-selector-container select {
    appearance: none; background: transparent; border: 1px solid var(--border-color); border-radius: 6px; padding: 4px 10px;
    font-size: 11px; font-family: var(--note-font-sans); color: var(--peak-primary); cursor: pointer; outline: none; text-align: center;
}

.submit-circle-btn {
    width: 28px; height: 28px; border-radius: 50%; border: none; display: flex; align-items: center; justify-content: center;
    cursor: default; transition: all 0.2s; background-color: transparent; border: 1px solid var(--border-color);
}
.submit-circle-btn:not(:disabled) { background-color: var(--peak-accent); border-color: var(--peak-accent); color: white; }
.submit-circle-btn svg { width: 14px; height: 14px; stroke-width: 3px; }